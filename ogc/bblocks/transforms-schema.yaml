"$schema": https://json-schema.org/draft/2020-12/schema
title: OGC Building Blocks Register transforms schema
type: object
properties:
  transforms:
    description: List of transforms available for the building block
    type: array
    items:
      type: object
      required:
        - title
        - mime-types
        - output-types
        - ref
        - type
      properties:
        title:
          description: Title or label for this transform
          type: string
        mime-types:
          type: object
          required:
            - source
            - target
          properties:
            source:
              description: Single or list of MIME types (or aliases thereof) that this transformation can be applied to
              oneOf:
                - type: array
                  minItems: 1
                  items:
                    type: string
                    examples:
                      - [application/json, jsonld]
                - type: string
                  examples:
                    - application/json
                    - jsonld
            target:
              description: Target MIME type (or alias thereof) for this transformation
              type: string
              examples:
                - text/turtle
                - ttl
        output-types:
          description: List of target specifications or formats that this transform can generate
          type: array
          minItems: 1
          items:
            type: object
            required:
              - label
              - identifier
            properties:
              label:
                description: Label for this target
                type: string
                examples:
                  - GeoDCAT
              identifier:
                description: Keyword or identifier (or, preferably, URI) for this target type (e.g., "ttl")
                type: string
                examples:
                  - geodcat
        ref:
          description: URL or file path to the contents of this transform (e.g., SHACL file, Python script, etc.)
          type: string
        type:
          description: URI or identifier for the type of this transform
          type: string
          examples:
            - shacl
            - ogc.na.ingest_json
            - jq
            - python
        metadata:
          description: | 
            Additional metadata needed for the transform (e.g., required Python dependencies). The specific
            format and content will depend on the transform type. 
